(function(t){function e(e){for(var r,i,o=e[0],u=e[1],c=e[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},s=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"36d5":function(t,e,n){t.exports=n.p+"img/switch.8b1e8743.jpg"},"4c24":function(t,e,n){"use strict";n("9de7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("PostComponent")],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"product-container"},[t._m(0),n("div",{staticClass:"product-text"},[n("h2",[t._v("Nintendo Switch with Neon Blue and Neon Red Joy‑Con")]),n("h3",[t._v(" ★ "+t._s(t.avgRating>1.5?"★":"☆")+" "+t._s(t.avgRating>2.5?"★":"☆")+" "+t._s(t.avgRating>3.5?"★":"☆")+" "+t._s(t.avgRating>4.5?"★":"☆")+" "+t._s(t.avgRating)+" out of 5 ")]),n("p",[t._v(" Introducing Nintendo Switch, the new home video game system from Nintendo. In addition to providing single and multiplayer thrills at home, the Nintendo Switch system can be taken on the go so players can enjoy a full home console experience anytime, anywhere. The mobility of a handheld is now added to the power of a home gaming system, with unprecedented new play styles brought to life by the two new Joy-Con controllers. ")])])]),n("hr"),n("h1",[t._v("Reviews")]),n("div",{staticClass:"write-review"},[n("form",{staticClass:"create-post",on:{submit:t.createPost}},[n("h3",[t._v("Write a review")]),n("div",[n("label",{attrs:{for:"user"}},[t._v("Your name: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],staticClass:"input-not-submit",attrs:{type:"text",id:"input-user",placeholder:"",required:""},domProps:{value:t.user},on:{input:function(e){e.target.composing||(t.user=e.target.value)}}}),n("label",{attrs:{for:"rating"}},[t._v(" Rating: ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rating,expression:"rating",modifiers:{number:!0}}],staticClass:"input-not-submit",attrs:{type:"number",id:"input-rating",placeholder:"",min:"1",max:"5",required:""},domProps:{value:t.rating},on:{input:function(e){e.target.composing||(t.rating=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("label",{attrs:{for:"rating"}},[t._v(" out of 5")])]),n("label",{attrs:{for:"title"}},[t._v("Add a title: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input-not-submit",attrs:{type:"text",id:"input-title",placeholder:"",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("label",{attrs:{for:"text"}},[t._v("Your review: ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"input-not-submit",attrs:{type:"text",id:"input-text",placeholder:"",required:""},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),t._m(1)])]),t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),n("div",{staticClass:"posts-container"},t._l(t.posts,(function(e,r){return n("div",{key:e._id,staticClass:"post",attrs:{item:e,index:r}},[n("div",{staticClass:"title"},[n("h3",[t._v(" ★ "+t._s(e.rating>=2?"★":"☆")+" "+t._s(e.rating>=3?"★":"☆")+" "+t._s(e.rating>=4?"★":"☆")+" "+t._s(5==e.rating?"★":"☆")+" "+t._s(e.title)+" ")])]),n("div",{staticClass:"userdate"},[n("p",[t._v(" Reviewed by "+t._s(e.user)+" on "+t._s(e.createdAt.getMonth()+1+"/"+e.createdAt.getDate()+"/"+e.createdAt.getFullYear())+" ")])]),n("div",{staticClass:"text"},[n("p",[t._v(t._s(e.text))])]),n("div",{staticClass:"helpful"},[n("p",[t._v(" "+t._s(e.likes)+" "+t._s(1==e.likes?"person":"people")+" found this helpful. ")]),n("h3",[t._v("|")]),n("label",{attrs:{for:"like"}},[t._v("Was this helpful?")]),n("button",{attrs:{type:"checkbox",id:"input-like"},on:{click:function(n){return t.likePost(e._id,e.likes,e.user)}}},[t._v(" Yes ")]),n("button",{attrs:{type:"checkbox",id:"input-unlike"},on:{click:function(n){return t.unlikePost(e._id,e.likes,e.user)}}},[t._v(" No ")])]),n("div",{staticClass:"delete"},[n("button",{on:{click:function(n){return t.deletePost(e._id)}}},[t._v("Delete")])])])})),0)])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-img-container"},[r("img",{staticClass:"product",attrs:{alt:"switch",src:n("36d5")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{attrs:{type:"submit"}})])}],u=n("1da1"),c=(n("96cf"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("159b"),n("5530")),l=n("d4ec"),p=n("bee2"),d=(n("d81d"),n("7338")),v=n.n(d),f="api/posts/",g=function(){function t(){Object(l["a"])(this,t)}return Object(p["a"])(t,null,[{key:"getPosts",value:function(){return new Promise(function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get(f);case 3:r=t.sent,a=r.data,e(a.map((function(t){return Object(c["a"])(Object(c["a"])({},t),{},{createdAt:new Date(t.createdAt)})}))),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),n(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"insertPost",value:function(t,e,n,r){var a=0;return v.a.post(f,{user:t,rating:e,title:n,text:r,likes:a})}},{key:"deletePost",value:function(t){return v.a.delete("".concat(f).concat(t))}},{key:"likePost",value:function(t,e){var n=e+1;return v.a.put("".concat(f).concat(t),{newLikes:n})}},{key:"unlikePost",value:function(t,e){var n=e-1;return v.a.put("".concat(f).concat(t),{newLikes:n})}}]),t}(),m=g,h={name:"PostComponent",data:function(){return{posts:[],error:"",user:"",rating:"",title:"",text:"",likedPosts:new Set,avgRating:"",numPosts:""}},created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.getPosts();case 3:t.posts=e.sent,t.calcAvgRating(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.error=e.t0.message;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},methods:{createPost:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.rating),e.next=3,m.insertPost(t.user,t.rating,t.title,t.text);case 3:return e.next=5,m.getPosts();case 5:t.posts=e.sent,t.calcAvgRating();case 7:case"end":return e.stop()}}),e)})))()},deletePost:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,m.deletePost(t);case 2:return n.next=4,m.getPosts();case 4:e.posts=n.sent,e.calcAvgRating();case 6:case"end":return n.stop()}}),n)})))()},likePost:function(t,e,n){var r=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r.likedPosts.has(t)){a.next=8;break}return r.likedPosts.add(t),a.next=4,m.likePost(t,e);case 4:return a.next=6,m.getPosts();case 6:r.posts=a.sent,alert(n+"'s post was marked as helpful.");case 8:case"end":return a.stop()}}),a)})))()},unlikePost:function(t,e,n){var r=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.likedPosts.has(t)){a.next=8;break}return r.likedPosts.delete(t),a.next=4,m.unlikePost(t,e);case 4:return a.next=6,m.getPosts();case 6:r.posts=a.sent,alert(n+"'s post is no longer marked as helpful.");case 8:case"end":return a.stop()}}),a)})))()},calcAvgRating:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.avgRating=0,t.numPosts=0,t.posts.forEach((function(e){t.avgRating+=e.rating,t.numPosts++})),t.numPosts>0&&(t.avgRating/=t.numPosts,t.avgRating=Math.round(10*t.avgRating)/10);case 4:case"end":return e.stop()}}),e)})))()}}},b=h,w=(n("4c24"),n("2877")),_=Object(w["a"])(b,i,o,!1,null,"6e4f0c36",null),x=_.exports,k={name:"App",components:{PostComponent:x}},P=k,y=(n("034f"),Object(w["a"])(P,a,s,!1,null,null,null)),R=y.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(R)}}).$mount("#app")},"85ec":function(t,e,n){},"9de7":function(t,e,n){}});
//# sourceMappingURL=app.ad635ad5.js.map